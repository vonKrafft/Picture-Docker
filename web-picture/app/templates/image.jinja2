<!doctype html>
<html lang="fr">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/static/css/bootstrap-4.3.1.min.css">
    <link rel="stylesheet" href="/static/css/style.css">

    <title>{{ data.filename }}{% if data.width > 0 and data.height > 0 %} ({{ data.width }} × {{ data.height }}){% endif %}</title>

</head>
<body class="overflow-hidden">

    <main class="container-fluid bg-black">
        <div class="row align-items-stretch">

            <section id="image" class="vh-100 position-relative bg-black p-0 col">

                <div class="w-100 p-2 image-nav position-absolute">
                    <nav class="nav w-100 justify-content-end">
                        <a class="nav-link text-light" href="/media/{{ data.path }}"><svg focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" height="1em"><path fill="currentColor" d="M576 14.4l-.174 163.2c0 7.953-6.447 14.4-14.4 14.4H528.12c-8.067 0-14.56-6.626-14.397-14.691l2.717-73.627-2.062-2.062-278.863 278.865c-4.686 4.686-12.284 4.686-16.971 0l-23.029-23.029c-4.686-4.686-4.686-12.284 0-16.971L474.379 61.621l-2.062-2.062-73.626 2.717C390.626 62.44 384 55.946 384 47.879V14.574c0-7.953 6.447-14.4 14.4-14.4L561.6 0c7.953 0 14.4 6.447 14.4 14.4zM427.515 233.74l-24 24a12.002 12.002 0 0 0-3.515 8.485V458a6 6 0 0 1-6 6H54a6 6 0 0 1-6-6V118a6 6 0 0 1 6-6h301.976c10.691 0 16.045-12.926 8.485-20.485l-24-24A12.002 12.002 0 0 0 331.976 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V242.225c0-10.691-12.926-16.045-20.485-8.485z"></path></svg></a>
                        <a class="nav-link text-light" href="/media/{{ data.path }}" download="{{ data.filename }}"><svg focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" height="1em"><path fill="currentColor" d="M528 288h-92.1l46.1-46.1c30.1-30.1 8.8-81.9-33.9-81.9h-64V48c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v112h-64c-42.6 0-64.2 51.7-33.9 81.9l46.1 46.1H48c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V336c0-26.5-21.5-48-48-48zm-400-80h112V48h96v160h112L288 368 128 208zm400 256H48V336h140.1l65.9 65.9c18.8 18.8 49.1 18.7 67.9 0l65.9-65.9H528v128zm-88-64c0-13.3 10.7-24 24-24s24 10.7 24 24-10.7 24-24 24-24-10.7-24-24z"></path></svg></a>
                    </nav>
                </div>
                
                <div class="image w-100 vh-100 text-center align-middle" style="background-image: url(/media/{{ data.path }})"></div>

            </section>

            <aside id="infos" class="vh-100 position-relative bg-white d-none d-sm-block col-sm-6 col-md-5 col-lg-4 col-xl-3">

                <div class="card h-100 border-0">
                    <header class="card-header bg-transparent border-0">
                        <p class="small text-muted text-uppercase my-0">Détails</p>
                    </header>
                    <div class="h-100">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item d-flex justify-content-start align-self-center-0">
                                <svg width="24px" height="24px" class="mr-3 text-secondary" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3h-1V1h-2v2H8V1H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 9.5a2.5 2.5 0 0 0 0 5 2.5 2.5 0 0 0 0-5z"></path></svg>
                                <div class="flex-grow-1">
                                    <div class="R9U8ab" aria-label="Date : {{ data.date }}">{{ data.date }}</div>
                                    <div class="small text-nowrap text-secondary">
                                        <span class="text-nowrap mr-2" aria-label="Heure : {{ data.time }}">{{ data.time }}</span>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item d-flex justify-content-start align-self-center-0">
                                <svg width="24px" height="24px" class="mr-3 text-secondary" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5-7l-3 3.72L9 13l-3 4h12l-4-5z"></path></svg>
                                <div class="flex-grow-1">
                                    <div class="R9U8ab" aria-label="Nom du fichier : {{ data.filename }}">{{ data.filename }}</div>
                                    <div class="small text-nowrap text-secondary">
                                        {% if data.resolution > 0.0 %}
                                        <span class="text-nowrap mr-2" aria-label="Nombre de mégapixels : {{ data.resolution }} Mpx">{{ data.resolution }} Mpx</span>
                                        {% endif %}
                                        {% if data.width > 0 and data.height > 0 %}
                                        <span class="text-nowrap mr-2" aria-label="Taille : {{ data.width }} × {{ data.height }} pixels">{{ data.width }} × {{ data.height }}</span>
                                        {% endif %}
                                        {% if data.stat.st_size > 0 %}
                                        <span class="text-nowrap mr-2" aria-label="Taille du fichier : {{ data.weight }}o">{{ data.weight }}o</span>
                                        {% endif %}
                                    </div>
                                </div>
                            </li>
                            {% if data.Model %}
                            <li class="list-group-item d-flex justify-content-start align-self-center-0">
                                <svg width="24px" height="24px" class="mr-3 text-secondary" viewBox="0 0 24 24"><path fill="currentColor" d="M14.25 2.26l-.08-.04-.01.02C13.46 2.09 12.74 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-4.75-3.31-8.72-7.75-9.74zM19.41 9h-7.99l2.71-4.7c2.4.66 4.35 2.42 5.28 4.7zM13.1 4.08L10.27 9l-1.15 2L6.4 6.3A7.958 7.958 0 0 1 12 4c.37 0 .74.03 1.1.08zM5.7 7.09L8.54 12l1.15 2H4.26C4.1 13.36 4 12.69 4 12c0-1.85.64-3.55 1.7-4.91zM4.59 15h7.98l-2.71 4.7A8.033 8.033 0 0 1 4.59 15zm6.31 4.91L14.89 13l2.72 4.7A8 8 0 0 1 12 20c-.38 0-.74-.04-1.1-.09zm7.4-3l-4-6.91h5.43c.17.64.27 1.31.27 2 0 1.85-.64 3.55-1.7 4.91z"></path></svg>
                                <div class="flex-grow-1">
                                    <div class="R9U8ab" aria-label="Nom de l'appareil photo : {{ data.Make }} {{ data.Model }}">{{ data.Make }} {{ data.Model }}</div>
                                    <div class="small text-nowrap text-secondary">
                                        {% if data.Opening and data.Opening > 0.0 %}
                                        <span class="text-nowrap mr-2" aria-label="Ouverture : ƒ/{{ data.Opening }}">ƒ/{{ data.Opening }}</span>
                                        {% endif %}
                                        {% if data.ExposureTime and data.ExposureTime|length >= 2 %}
                                        <span class="text-nowrap mr-2" aria-label="Temps de pose : {{ data.ExposureTime[0] }}/{{ data.ExposureTime[1] }}">{{ data.ExposureTime[0] }}/{{ data.ExposureTime[1] }}</span>
                                        {% endif %}
                                        {% if data.Focal and data.Focal > 0 %}
                                        <span class="text-nowrap mr-2" aria-label="Longueur focale : {{ data.Focal }} mm">{{ data.Focal }} mm</span>
                                        {% endif %}
                                        {% if data.ISOSpeedRatings %}
                                        <span class="text-nowrap mr-2" aria-label="">{{ data.ISOSpeedRatings }} ISO</span>
                                        {% endif %}
                                    </div>
                                </div>
                            </li>
                            {% endif %}
                            {% if data.thumbnails|length > 0 %}
                            <li class="list-group-item d-flex justify-content-start align-self-center-0 border-0">
                                {% for thumbnail in data.thumbnails %}
                                <a href="/media/{{ thumbnail.path }}" class="btn btn-outline-light btn-sm mr-1 border-secondary text-secondary">
                                    <svg focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1.5em"><path fill="currentColor" d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V112c0-8.822 7.178-16 16-16h416c8.822 0 16 7.178 16 16v288zM112 232c30.928 0 56-25.072 56-56s-25.072-56-56-56-56 25.072-56 56 25.072 56 56 56zm0-80c13.234 0 24 10.766 24 24s-10.766 24-24 24-24-10.766-24-24 10.766-24 24-24zm207.029 23.029L224 270.059l-31.029-31.029c-9.373-9.373-24.569-9.373-33.941 0l-88 88A23.998 23.998 0 0 0 64 344v28c0 6.627 5.373 12 12 12h360c6.627 0 12-5.373 12-12v-92c0-6.365-2.529-12.47-7.029-16.971l-88-88c-9.373-9.372-24.569-9.372-33.942 0zM416 352H96v-4.686l80-80 48 48 112-112 80 80V352z"></path></svg><br><small>{{ thumbnail.size }}</small>
                                </a>
                                {% endfor %}
                            </li>
                            {% endif %}
                        </ul>
                    </div>
                    {# <code class="small">{{ data }}</code> #}
                    <footer class="card-footer small text-muted text-center bg-transparent border-0">
                        Picture-Docker v1.0.0 &copy; vonKrafft 2019<br>
                        <svg aria-hidden="true" focusable="false" viewBox="0 0 496 512" height="14" width="14"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
                        <a href="https://github.com/vonKrafft/Picture-Docker" class="text-secondary">Source code</a>
                    </footer>
                </div>
                
            </aside>

        </div>
    </main>

    <!-- Optional JavaScript -->
    <script type="text/javascript" src="/static/js/jquery-3.3.1.slim.min.js"></script>
    <script type="text/javascript" src="/static/js/popper-1.14.7.min.js"></script>
    <script type="text/javascript" src="/static/js/bootstrap-4.3.1.min.js"></script>
    <script type="text/javascript">
        
        $(function () {
            adjustImage();

            $(window).resize(function() {
                adjustImage();
            });

        });

        function adjustImage() {
            {% if data.width > 0 and data.height > 0 %}
            if ($('#image').width() > {{ data.width }} && $('#image').height() > {{ data.height }}) {
                $('#image .image').css('background-size', 'auto');
            } else {
                $('#image .image').css('background-size', 'contain');
            }
            {% endif %}
        }

    </script>
</body>
</html>